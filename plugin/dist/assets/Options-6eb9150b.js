var X=Object.defineProperty;var Y=(t,e,n)=>e in t?X(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var L=(t,e,n)=>(Y(t,typeof e!="symbol"?e+"":e,n),n);import{s as Z}from"./storage-1f8884de.js";function O(){}function G(t){return t()}function R(){return Object.create(null)}function M(t){t.forEach(G)}function H(t){return typeof t=="function"}function tt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function et(t){return Object.keys(t).length===0}function c(t,e){t.appendChild(e)}function J(t,e,n){t.insertBefore(e,n||null)}function P(t){t.parentNode&&t.parentNode.removeChild(t)}function d(t){return document.createElement(t)}function A(t){return document.createTextNode(t)}function y(){return A(" ")}function E(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function b(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function nt(t){return Array.from(t.childNodes)}function K(t,e){e=""+e,t.data!==e&&(t.data=e)}let S;function C(t){S=t}function st(){if(!S)throw new Error("Function called outside component initialization");return S}function wt(t){st().$$.on_mount.push(t)}const v=[],U=[];let w=[];const V=[],ot=Promise.resolve();let B=!1;function rt(){B||(B=!0,ot.then(Q))}function I(t){w.push(t)}const q=new Set;let $=0;function Q(){if($!==0)return;const t=S;do{try{for(;$<v.length;){const e=v[$];$++,C(e),it(e.$$)}}catch(e){throw v.length=0,$=0,e}for(C(null),v.length=0,$=0;U.length;)U.pop()();for(let e=0;e<w.length;e+=1){const n=w[e];q.has(n)||(q.add(n),n())}w.length=0}while(v.length);for(;V.length;)V.pop()();B=!1,q.clear(),C(t)}function it(t){if(t.fragment!==null){t.update(),M(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(I)}}function ct(t){const e=[],n=[];w.forEach(s=>t.indexOf(s)===-1?e.push(s):n.push(s)),n.forEach(s=>s()),w=e}const j=new Set;let ut;function lt(t,e){t&&t.i&&(j.delete(t),t.i(e))}function kt(t,e,n,s){if(t&&t.o){if(j.has(t))return;j.add(t),ut.c.push(()=>{j.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}else s&&s()}function xt(t){t&&t.c()}function at(t,e,n){const{fragment:s,after_update:o}=t.$$;s&&s.m(e,n),I(()=>{const f=t.$$.on_mount.map(G).filter(H);t.$$.on_destroy?t.$$.on_destroy.push(...f):M(f),t.$$.on_mount=[]}),o.forEach(I)}function ft(t,e){const n=t.$$;n.fragment!==null&&(ct(n.after_update),M(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function dt(t,e){t.$$.dirty[0]===-1&&(v.push(t),rt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function _t(t,e,n,s,o,f,g,i=[-1]){const l=S;C(t);const r=t.$$={fragment:null,ctx:[],props:f,update:O,not_equal:o,bound:R(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:R(),dirty:i,skip_bound:!1,root:e.target||l.$$.root};g&&g(r.root);let _=!1;if(r.ctx=n?n(t,e.props||{},(a,h,...k)=>{const p=k.length?k[0]:h;return r.ctx&&o(r.ctx[a],r.ctx[a]=p)&&(!r.skip_bound&&r.bound[a]&&r.bound[a](p),_&&dt(t,a)),h}):[],r.update(),_=!0,M(r.before_update),r.fragment=s?s(r.ctx):!1,e.target){if(e.hydrate){const a=nt(e.target);r.fragment&&r.fragment.l(a),a.forEach(P)}else r.fragment&&r.fragment.c();e.intro&&lt(t.$$.fragment),at(t,e.target,e.anchor),Q()}C(l)}class ht{constructor(){L(this,"$$");L(this,"$$set")}$destroy(){ft(this,1),this.$destroy=O}$on(e,n){if(!H(n))return O;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const o=s.indexOf(n);o!==-1&&s.splice(o,1)}}$set(e){this.$$set&&!et(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const pt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(pt);function D(t){let e,n;return{c(){e=d("span"),n=A(t[1]),b(e,"class","success svelte-s5p16k")},m(s,o){J(s,e,o),c(e,n)},p(s,o){o&2&&K(n,s[1])},d(s){s&&P(e)}}}function mt(t){let e,n,s,o,f,g,i,l,r,_,a,h,k,p,T,x,W,F,z,u=t[1]&&D(t);return{c(){e=d("div"),n=d("p"),s=A("Current count: "),o=d("b"),f=A(t[0]),g=y(),i=d("div"),l=d("button"),l.textContent="-",r=y(),_=d("button"),_.textContent="+",a=y(),h=d("button"),h.textContent="Save",k=y(),p=d("button"),p.textContent="Start",T=y(),x=d("button"),x.textContent="Stop",W=y(),u&&u.c(),b(l,"class","svelte-s5p16k"),b(_,"class","svelte-s5p16k"),b(h,"class","svelte-s5p16k"),b(p,"class","svelte-s5p16k"),b(x,"class","svelte-s5p16k"),b(e,"class","container svelte-s5p16k")},m(m,N){J(m,e,N),c(e,n),c(n,s),c(n,o),c(o,f),c(e,g),c(e,i),c(i,l),c(i,r),c(i,_),c(i,a),c(i,h),c(i,k),c(i,p),c(i,T),c(i,x),c(i,W),u&&u.m(i,null),F||(z=[E(l,"click",t[3]),E(_,"click",t[2]),E(h,"click",t[4]),E(p,"click",gt),E(x,"click",bt)],F=!0)},p(m,[N]){N&1&&K(f,m[0]),m[1]?u?u.p(m,N):(u=D(m),u.c(),u.m(i,null)):u&&(u.d(1),u=null)},i:O,o:O,d(m){m&&P(e),u&&u.d(),F=!1,M(z)}}}async function gt(){console.log(chrome.tabs);const[t]=await chrome.tabs.query({active:!0,lastFocusedWindow:!0});console.log("send message start");const e=await chrome.tabs.sendMessage(t.id??0,{start:!0});console.log(e)}async function bt(){const[t]=await chrome.tabs.query({active:!0,lastFocusedWindow:!0});console.log("send message stop");const e=await chrome.tabs.sendMessage(t.id??0,{start:!1});console.log(e)}function yt(t,e,n){let{count:s}=e,o=null;function f(){n(0,s+=1)}function g(){n(0,s-=1)}function i(){Z.set({count:s}).then(()=>{n(1,o="Options saved!"),setTimeout(()=>{n(1,o=null)},1500)})}return t.$$set=l=>{"count"in l&&n(0,s=l.count)},[s,o,f,g,i]}class Et extends ht{constructor(e){super(),_t(this,e,yt,mt,tt,{count:0})}}export{Et as O,ht as S,b as a,J as b,xt as c,kt as d,d as e,P as f,ft as g,_t as i,at as m,wt as o,tt as s,lt as t};
